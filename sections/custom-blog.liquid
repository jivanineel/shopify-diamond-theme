<section
  class="blog-list"
  style="padding: {{ section.settings.padding-top }}px 0 {{ section.settings.padding-bottom }}px;"
>
  <div class="main-container">
    <h1 class="section-title" style="margin-bottom: {{ section.settings.title-margin-bottom }}px">
      {{ section.settings.section_title }}
    </h1>
    <p class="section-sub-title" style="margin-bottom: {{ section.settings.sub-margin-bottom }}px">
      {{ section.settings.section_sub_title }}
    </p>

    <div class="blog-list-contain">
      {% for block in section.blocks %}
        {% assign article = articles[block.settings.blog_article] %}
        {% if article != blank %}
          {% assign custom_link = block.settings.custom_link | default: article.url %}

          <a href="{{ custom_link }}" class="blog-list-item">
            <div class="blog-list-image">
              {% if article.image %}
                <img
                  src="{{ article.image | image_url: width: 1000 }}"
                  alt="{{ article.image.alt | escape }}"
                  loading="lazy"
                  width="100%"
                  height="100%"
                >
              {% endif %}
            </div>

            <div class="blog-list-content">
              <div class="blog-list-title">
                {{ article.title }}
              </div>
              <div class="blog-list-description">
                {{ article.excerpt | strip_html | truncate: 120 }}
              </div>
            </div>
          </a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Blog List",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Blog List"
    },
    {
      "type": "number",
      "id": "title-margin-bottom",
      "label": "Title margin bottom",
      "default": 20
    },
    {
      "type": "text",
      "id": "section_sub_title",
      "label": "Section Sub Title",
      "default": "About Blog List"
    },
    {
      "type": "number",
      "id": "sub-margin-bottom",
      "label": "Sub margin bottom",
      "default": 20
    },
    {
      "type": "number",
      "id": "padding-top",
      "label": "Padding Top",
      "default": 60
    },
    {
      "type": "number",
      "id": "padding-bottom",
      "label": "Padding Bottom",
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "article-block",
      "name": "Blog Article",
      "settings": [
        {
          "type": "article",
          "id": "blog_article",
          "label": "Select Blog Article"
        },
        {
          "type": "url",
          "id": "custom_link",
          "label": "Custom Link (optional)",
        }
      ]
    }
  ],
  "max_blocks": 18,
  "presets": [
    {
      "name": "Blog List",
      "blocks": []
    }
  ]
}
{% endschema %}

{% stylesheet %}
  .blog-list-contain {
    display: flex;
    justify-content: center;
    align-items: stretch;
    flex-wrap: wrap;
    gap: 20px;
  }

  .blog-list-item {
    display: block;
    max-width: 400px;
    width: 100%;
    text-decoration: none;
    color: inherit;
    border: 1px solid transparent;
    transition: border 0.2s ease, box-shadow 0.2s ease;
  }

  .blog-list-item:hover {
    border: 1px solid #ccc;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  .blog-list-image img {
    width: 100%;
    height: auto;
    display: block;
  }

  .blog-list-title {
    font-size: 24px;
    font-weight: 500;
    color: #000000;
    margin-top: 15px;
    margin-bottom: 10px;
  }

  .blog-list-description {
    font-size: 16px;
    color: #333333;
  }

  /* Responsive Styles */
  @media (max-width: 991px) {
    .blog-list {
      padding: 70px 0 !important;
    }
  }

  @media (max-width: 767px) {
    .blog-list {
      padding: 50px 0 !important;
    }

    .blog-list-title {
      font-size: 22px;
    }
  }

  @media (max-width: 575px) {
    .blog-list {
      padding: 30px 0 !important;
    }

    .blog-list-title {
      font-size: 18px;
    }

    .blog-list-description {
      font-size: 14px;
    }
  }
{% endstylesheet %}
