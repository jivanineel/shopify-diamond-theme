<section class="blog-list">
  <div class="main-container">
    <h1 class="section-title" style="margin-bottom: {{ section.settings.title-margin-bottom }}px">
      {{ section.settings.section_title }}
    </h1>
    <p class="section-sub-title" style="margin-bottom: {{ section.settings.sub-margin-bottom }}px">
      {{ section.settings.section_sub_title }}
    </p>

    <div class="blog-list-contain">
      {% for block in section.blocks %}
        {% assign blog_handle = block.settings.blog %}
        {% assign article_handle = block.settings.blog_article %}
        {% assign article = blogs[blog_handle].articles | where: "handle", article_handle | first %}

        {% if article %}
          <a href="{{ article.url }}" class="blog-list-link">
            <div class="blog-list-item">
              <div class="blog-list-image">
                {% if article.image %}
                  <img
                    src="{{ article.image | image_url: width: 1000 }}"
                    alt="{{ article.image.alt | escape }}"
                    loading="lazy"
                    width="100%"
                    height="100%"
                  >
                {% endif %}
              </div>

              <div class="blog-list-content">
                <div class="blog-list-title">
                  {{ article.title }}
                </div>
                <div class="blog-list-description">
                  {{ article.excerpt | strip_html | truncate: 120 }}
                </div>
              </div>
            </div>
          </a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

<style>
  .blog-list {
    padding: {{ section.settings.padding-top }}px 0 {{ section.settings.padding-bottom }}px;
  }

  .blog-list-contain {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
  }

  .blog-list-link {
    text-decoration: none;
    color: inherit;
    display: block;
    max-width: 400px;
    width: 100%;
  }

  .blog-list-item {
    transition: transform 0.3s ease;
  }

  .blog-list-link:hover .blog-list-item {
    transform: translateY(-4px);
  }

  .blog-list-title {
    font-size: 24px;
    font-weight: 400;
    color: #000;
  }

  .blog-list-description {
    font-size: 16px;
  }

  @media (max-width: 991px) {
    .blog-list {
      padding: 70px 0 !important;
    }
  }

  @media (max-width: 767px) {
    .blog-list {
      padding: 50px 0 !important;
    }

    .blog-list-title {
      font-size: 22px;
    }
  }

  @media (max-width: 575px) {
    .blog-list {
      padding: 30px 0 !important;
    }

    .blog-list-title {
      font-size: 18px;
    }

    .blog-list-description {
      font-size: 14px;
    }
  }
</style>

{% schema %}
{
  "name": "Blog List",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Blog List"
    },
    {
      "type": "number",
      "id": "title-margin-bottom",
      "label": "Title margin bottom",
      "default": 0
    },
    {
      "type": "text",
      "id": "section_sub_title",
      "label": "Section Sub Title",
      "default": "About Blog List"
    },
    {
      "type": "number",
      "id": "sub-margin-bottom",
      "label": "Sub margin bottom"
    },
    {
      "type": "number",
      "id": "padding-top",
      "label": "Padding Top",
      "default": 0
    },
    {
      "type": "number",
      "id": "padding-bottom",
      "label": "Padding Bottom"
    }
  ],
  "blocks": [
    {
      "type": "article-block",
      "name": "Blog Article",
      "settings": [
        {
          "type": "blog",
          "id": "blog",
          "label": "Select Blog"
        },
        {
          "type": "article",
          "id": "blog_article",
          "label": "Select Blog Article"
        }
      ]
    }
  ],
  "max_blocks": 18,
  "presets": [
    {
      "name": "Blog List",
      "blocks": []
    }
  ]
}
{% endschema %}
